helloworld: helloworld.cpp
	@(g++ helloworld.cpp -o $@)

usespthread: usespthread.cpp
	@(g++ usespthread.cpp -o $@ -lpthread)

libMyEngineDynamic.so:
	@(g++ -c -w -fpic myengine/myengine.cpp -o temp1.o) 
	@(g++ -shared temp1.o -o $@ )

libMyEngineStatic.a:
	@(g++ -c -w myengine/myengine.cpp -o temp2.o)
	@(ar rcs $@ temp2.o)

.PHONY : installdynamic
installdynamic: libMyEngineDynamic.so
	@(sudo cp libMyEngineDynamic.so /usr/local/lib/)
	@(sudo cp myengine/myengine.hpp /usr/local/include/)

.PHONY : installstatic
installstatic: libMyEngineStatic.a
	@(sudo cp libMyEngineStatic.a /usr/local/lib)
	@(sudo cp myengine/myengine.hpp /usr/local/include)

mygamestatic: installstatic
	@(g++ mygame/mygame.cpp -o $@ -lMyEngineStatic )

mygamedynamic: installdynamic
	@(g++ mygame/mygame.cpp -o $@ -lMyEngineDynamic )

clean:
	@(rm -rf temp1.o temp2.o libMyEngineStatic.a libMyEngineDynamic.so)

